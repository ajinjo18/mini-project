<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shorcket icon" type="x-icon" href="/img/logo2.png">
    <title>GO shop</title>    <link rel="stylesheet" href="/css/home/profileedit.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  </head>

<body>

  <style>
    @import url('https://fonts.googleapis.com/css?family=Open+Sans&display=swap');body{background-color: #eeeeee;font-family: 'Open Sans',serif}.container{margin-top:50px;margin-bottom: 50px}.card{position: relative;display: -webkit-box;display: -ms-flexbox;display: flex;-webkit-box-orient: vertical;-webkit-box-direction: normal;-ms-flex-direction: column;flex-direction: column;min-width: 0;word-wrap: break-word;background-color: #fff;background-clip: border-box;border: 1px solid rgba(0, 0, 0, 0.1);border-radius: 0.10rem}.card-header:first-child{border-radius: calc(0.37rem - 1px) calc(0.37rem - 1px) 0 0}.card-header{padding: 0.75rem 1.25rem;margin-bottom: 0;background-color: #fff;border-bottom: 1px solid rgba(0, 0, 0, 0.1)}.track{position: relative;background-color: #ddd;height: 7px;display: -webkit-box;display: -ms-flexbox;display: flex;margin-bottom: 60px;margin-top: 50px}.track .step{-webkit-box-flex: 1;-ms-flex-positive: 1;flex-grow: 1;width: 25%;margin-top: -18px;text-align: center;position: relative}.track .step.active:before{background: #FF5722}.track .step::before{height: 7px;position: absolute;content: "";width: 100%;left: 0;top: 18px}.track .step.active .icon{background: #ee5435;color: #fff}.track .icon{display: inline-block;width: 40px;height: 40px;line-height: 40px;position: relative;border-radius: 100%;background: #ddd}.track .step.active .text{font-weight: 400;color: #000}.track .text{display: block;margin-top: 7px}.itemside{position: relative;display: -webkit-box;display: -ms-flexbox;display: flex;width: 100%}.itemside .aside{position: relative;-ms-flex-negative: 0;flex-shrink: 0}.img-sm{width: 80px;height: 80px;padding: 7px}ul.row, ul.row-sm{list-style: none;padding: 0}.itemside .info{padding-left: 15px;padding-right: 7px}.itemside .title{display: block;margin-bottom: 5px;color: #212529}p{margin-top: 0;margin-bottom: 1rem}.btn-warning{color: #ffffff;background-color: #ee5435;border-color: #ee5435;border-radius: 1px}.btn-warning:hover{color: #ffffff;background-color: #ff2b00;border-color: #ff2b00;border-radius: 1px}
  </style>

    <style>
        .gradient-custom-2 {
/* fallback for old browsers */
background: #a1c4fd;

/* Chrome 10-25, Safari 5.1-6 */
background: -webkit-linear-gradient(to right, rgba(161, 196, 253, 1), rgba(194, 233, 251, 1));

/* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */
background: linear-gradient(to right, rgba(161, 196, 253, 1), rgba(194, 233, 251, 1))
}

#progressbar-1 {
color: #455A64;
}

#progressbar-1 li {
list-style-type: none;
font-size: 13px;
width: 33.33%;
float: left;
position: relative;
}

#progressbar-1 #step1:before {
content: "1";
color: #fff;
width: 29px;
margin-left: 22px;
padding-left: 11px;
}

#progressbar-1 #step2:before {
content: "2";
color: #fff;
width: 29px;
}

#progressbar-1 #step3:before {
content: "3";
color: #fff;
width: 29px;
margin-right: 22px;
text-align: center;
}

#progressbar-1 li:before {
line-height: 29px;
display: block;
font-size: 12px;
background: #455A64;
border-radius: 50%;
margin: auto;
}

#progressbar-1 li:after {
content: '';
width: 121%;
height: 2px;
background: #455A64;
position: absolute;
left: 0%;
right: 0%;
top: 15px;
z-index: -1;
}

#progressbar-1 li:nth-child(2):after {
left: 50%
}

#progressbar-1 li:nth-child(1):after {
left: 25%;
width: 121%
}

#progressbar-1 li:nth-child(3):after {
left: 25%;
width: 50%;
}

#progressbar-1 li.active:before,
#progressbar-1 li.active:after {
background: #1266f1;
}

.card-stepper {
z-index: 0
}
    </style>
    <style>
        .gradient-custom {
        /* fallback for old browsers */
        background: #cd9cf2;

        /* Chrome 10-25, Safari 5.1-6 */
        background: -webkit-linear-gradient(to top left, rgba(205, 156, 242, 1), rgba(246, 243, 255, 1));

        /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */
        background: linear-gradient(to top left, rgba(205, 156, 242, 1), rgba(246, 243, 255, 1))
        }
    </style>

    
    <div class="container-xl px-4 mt-4">
        <!-- Account page navigation-->
        <nav class="nav nav-borders">
            <a class="nav-link ms-0" href="/home/profile" >Profile</a>
            <a class="nav-link" href="/home/address" >Billing</a>
            <a class="nav-link" href="/home/wallet">Wallet</a>
            <a class="nav-link active" href="/home/orders" >Orders</a>
            <!-- <a class="nav-link" href="/home/editpassword" target="__blank">Security</a> -->
            <a class="nav-link" href="/" >Home</a>
        </nav>
  

<!-- You just need to get this field. End -->
                <div class="container py-5 h-100">
                  <div class="row d-flex justify-content-center align-items-center h-100">
                    <div class="col-lg-10 col-xl-8">
                      <div class="card" style="border-radius: 10px;">
                            <div class="card-body p-4">
                          <div class="card shadow-0 border mb-4">
                            <div class="card-body">
                              <div class="row">
                                <div class="col-md-2">
                                  <img width="60px" src="<%= order.orders[0].images %>"
                                    class="img-fluid">
                                </div>
                                  <div class="col-md-2 text-center d-flex justify-content-center align-items-center">
                                    <a style="text-decoration: none; color: black;" href="/home/productview/<%= order.orders[0].productid %>"><%= order.orders[0].productName %></a>
                                  </div>
                                  <div class="col-md-2 text-center d-flex justify-content-center align-items-center">
                                    <p class="text mb-0 small">Qty: <%= order.orders[0].quantity %></p>
                                  </div>
                                  <div class="col-md-2 text-center d-flex justify-content-center align-items-center">
                                    <p class=" mb-0 small">total: <i style="color: red;"><%= order.orders[0].totalprice %></i></p>
                                    <p hidden><%= order.orders[0].productid %></p>
                                  </div>
                                  <% if (order.orders[0].status === 'Cancelled') { %>
                                    <div class="d-flex justify-content-end align-items-end">
                                      <p class="text mb-0 small">status: <i style="color: red;"><%= order.orders[0].status %></i></p>
                                    </div>
                                  <% } else { %>
                                    <div class="d-flex justify-content-end align-items-end">
                                      <p class="text mb-0 small">status: <i style="color: rgb(36, 150, 36);"><%= order.orders[0].status %></i></p>
                                    </div>
                                  <% } %>
                              </div>
                              <hr class="mb-4" style="background-color: #e0e0e0; opacity: 1;">
                              <div style="margin-top: -15px;" class="row d-flex align-items-center">
                                 <div>
                                <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
                                    Order Details
                                </button>
                                
                                <!-- Modal -->
                                <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                    <div class="modal-dialog">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                        <h1 class="modal-title fs-5" id="exampleModalLabel">Order Details</h1>
                                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                        </div>
                                        <div class="modal-body">
                                            <div class="card card-stepper" style="border-radius: 16px;">
                                                <div class="card-header p-4">
                                                  <div class="d-flex justify-content-between align-items-center">
                                                    <div>
                                                      <p class="text-muted mb-2"> Order ID <span class="fw-bold text-body"><%= order.orders[0].id %></span></p>
                                                      <p class="text-muted mb-0"> Place On <span class="fw-bold text-body"><%= order.orders[0].date %></span> </p>
                                                    </div>
                                                  </div>
                                                </div>
                                                <div class="card-body p-4">
                                                  <div class="d-flex flex-row mb-4 pb-2">
                                                    <div class="flex-fill">
                                                      <h5 class="bold"><%= order.orders[0].productName %></h5>
                                                      <p class="text-muted"> Qt: <%= order.orders[0].quantity %></p>
                                                      <h4 class="mb-3"><%= order.orders[0].totalprice %><span class="small text-muted"> via (<%= order.orders[0].payment %>) </span></h4>
                                                      <!-- <p class="text-muted">Tracking Status on: <span class="text-body">11:30pm, Today</span></p> -->
                                                    </div>
                                                    <div>
                                                      <img class="align-self-center img-fluid"
                                                        src="<%= order.orders[0].images %>" width="70">
                                                    </div>
                                                  </div>

                                                  <div class="track">
                                                    <% if (order.orders[0].status == 'Pending') { %>
                                                      <div class="step active"> <span class="icon"> <i class="fas fa-spinner"></i> </span> <span class="text">Pending</span> </div>
                                                      <div class="step "> <span class="icon"> <i class="fas fa-check"></i> </span> <span class="text">Shipped</span> </div>
                                                      <div class="step "> <span class="icon"> <i class="fas fa-truck"></i> </span> <span class="text">Out for delivery</span> </div>
                                                      <div class="step"> <span class="icon"> <i class="fas fa-box"></i> </span> <span class="text">Delivered</span> </div>
                                                    <% } else if (order.orders[0].status == 'Shipped') { %>
                                                      <div class="step active"> <span class="icon"> <i class="fas fa-spinner"></i> </span> <span class="text">Pending</span> </div>
                                                      <div class="step active"> <span class="icon"> <i class="fas fa-check"></i> </span> <span class="text">Shipped</span> </div>
                                                      <div class="step "> <span class="icon"> <i class="fas fa-truck"></i> </span> <span class="text">Out for delivery</span> </div>
                                                      <div class="step"> <span class="icon"> <i class="fas fa-box"></i> </span> <span class="text">Delivered</span> </div>
                                                    <% } else if(order.orders[0].status == 'Out for delivery') { %>
                                                      <div class="step active"> <span class="icon"> <i class="fas fa-spinner"></i> </span> <span class="text">Pending</span> </div>
                                                      <div class="step active"> <span class="icon"> <i class="fas fa-check"></i> </span> <span class="text">Shipped</span> </div>
                                                      <div class="step active"> <span class="icon"> <i class="fas fa-truck"></i> </span> <span class="text">Out for delivery</span> </div>
                                                      <div class="step"> <span class="icon"> <i class="fas fa-box"></i> </span> <span class="text">Delivered</span> </div>
                                                    <% } else if(order.orders[0].status == 'Delivered') { %>
                                                      <div class="step active"> <span class="icon"> <i class="fas fa-spinner"></i> </span> <span class="text">Pending</span> </div>
                                                      <div class="step active"> <span class="icon"> <i class="fas fa-check"></i> </span> <span class="text">Shipped</span> </div>
                                                      <div class="step active"> <span class="icon"> <i class="fas fa-truck"></i> </span> <span class="text">Out for delivery</span> </div>
                                                      <div class="step active"> <span class="icon"> <i class="fas fa-box"></i> </span> <span class="text">Delivered</span> </div>
                                                    <% } else { %>
                                                      <div class="step active"> <span class="icon"> <i class="fas fa-times"></i> </span> <span class="text">Cancelled</span> </div>
                                                    <% } %>
                                                </div>
                                                </div>
                                                <div class="card-footer p-4">
                                                  <div class="d-flex justify-content-between">
                                                    <% if (order.orders[0].status != 'Cancelled') { %>
                                                    <h5 class="fw-normal mb-0"><a style="text-decoration: none;" onclick="checker()" href="/home/cancelorder/<%= order.orders[0]._id %>">Cancel Order</a></h5>
                                                    <% } %>
                                                    <div class="border-start h-100"></div>
                                                    <!-- <h5 class="fw-normal mb-0"><a href="#!">Cancel</a></h5> -->
                                                    <div class="border-start h-100"></div>
                                                    <!-- <h5 class="fw-normal mb-0"><a href="#!">Pre-pay</a></h5> -->
                                                    <div class="border-start h-100"></div>
                                                    <!-- <h5 class="fw-normal mb-0"><a href="#!" class="text-muted"><i class="fas fa-ellipsis-v"></i></a>
                                                    </h5> -->
                                                  </div>
                                                </div>
                                              </div>
                                        </div>
                                        <div class="modal-footer">
                                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                                        </div>
                                    </div>
                                    </div>
                                </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </section>           
        </div>
    </div>


    <script>
      function checker() {
      const result=confirm('Are You Sure You Want To Cancel Order?');
      if(result==false){
        event.preventDefault();
      }
    }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
</body>



</html>